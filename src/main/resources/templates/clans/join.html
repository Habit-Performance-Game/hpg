<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="partials/header :: header('Join a Clan')"></head>
<body>
<nav th:replace="partials/navbar :: navbar"></nav>

<div class="container">
<div class="row">

<div class="col-sm-6">
    <h1>Join a Clan!!</h1>
    <p th:if="${user.clan}==null">
        You are not part of a clan.
    </p>
    <p th:if="${user.clan}!=null">
        You are currently part of Clan: <span th:text="${user.clan.name}"/>
        <!--<p sec:authorize="isAuthenticated()">clanName: <span th:text="${#authentication.principal.clan.name}" /></p>-->
    </p>

    <p>Here is a list of the current clans</p>
    <!---->
    <ul class="list-group">
        <li th:each="clan : ${clans}" class="list-group-item d-flex justify-content-between align-items-center">
            <a href="" class="listOfClans" th:text="${clan.name}"></a>
            <small><span th:text="${clan.users.size()}"></span> Members <i th:attr="data-id=${clan.id}" class="fas fa-user-plus"></i></small>
        </li>
    </ul>

        <!---->
    <form id="joinClanForm" th:action="@{/clan/join}" th:method="post">
        <div class="displayClans">
            <!--<select  name="clan">-->
                <!--<option th:each="clan : ${clans}" th:text="${clan.name}" th:value="${clan.id}"></option>-->
            <!--</select>-->
        </div>
        <input id="clanValueInput" type="hidden" name="clan" value=""/>
        <input class="btn btn-success" type="submit" value="Join"/>
    </form>


</div>

<div class="col-sm-6">
    <h1>Create your own Clan!</h1>
    <p>
        Have a group of friends that you want to work with to achieve new badges? This is how you can all
        link up. Click below to create your own Clan!
    </p>
    <button id="openCreateClanForm">Create Clan</button>
    <div th:replace="clans/create :: createClan"></div>


</div>

    <div class="alert alert-success" role="alert">
        <h4 class="alert-heading">Well done!</h4>
        <p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
        <hr>
        <p class="mb-0">Whenever you need to, be sure to use margin utilities to keep things nice and tidy.</p>
    </div>
    <!--<div id="confirmJoinMessage" class="hiddenElement">-->
        <!--<p>You are about to join Clan: <span va></span></p>-->
    <!--</div>-->

</div>
</div>

<div class="hiddenElement" th:replace="partials/jsScripts :: scripts"></div>
</body>
</html>